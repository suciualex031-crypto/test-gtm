<!DOCTYPE html>
<html lang="ro">
<head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-T6SFWCNT');</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracking Sandbox Pro | LeadGen & Ecommerce</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root { --bg: #030712; --card: #111827; --primary: #00ffaa; --secondary: #6366f1; --accent: #f59e0b; --text: #f9fafb; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg); color: var(--text); min-height: 250vh; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        
        #scroll-progress { position: fixed; top: 0; left: 0; width: 0%; height: 5px; background: linear-gradient(to right, var(--primary), var(--secondary)); z-index: 1000; }
        .wrapper { width: 100%; max-width: 600px; }
        .section { background: var(--card); padding: 25px; border-radius: 24px; border: 1px solid #1f2937; margin-bottom: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        h1 { font-size: 2.5rem; font-weight: 800; background: linear-gradient(to right, #00ffaa, #6366f1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; margin-bottom: 10px; }
        .status-bar { display: flex; justify-content: center; gap: 10px; margin-bottom: 30px; }
        .badge { padding: 5px 12px; border-radius: 20px; font-size: 0.7rem; font-weight: 700; border: 1px solid rgba(255,255,255,0.1); }

        /* PRODUCT CARDS */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .card { background: #1f2937; padding: 20px; border-radius: 16px; border: 1px solid transparent; transition: 0.3s; cursor: pointer; position: relative; }
        .card:hover { border-color: var(--primary); transform: translateY(-5px); }
        .price { color: var(--primary); font-weight: 800; font-size: 1.2rem; }

        /* FORMS */
        input, select { width: 100%; padding: 12px; margin: 10px 0; border-radius: 10px; border: 1px solid #374151; background: var(--bg); color: white; font-family: inherit; }
        .btn { width: 100%; padding: 14px; border-radius: 12px; border: none; font-weight: 700; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 10px; }
        .btn-p { background: var(--primary); color: #05070a; }
        .btn-s { background: var(--secondary); color: white; }
        .btn-w { background: #25D366; color: #05070a; }
        
        /* CHECKOUT */
        #checkout-box { border: 2px solid var(--secondary); background: rgba(99, 102, 241, 0.05); }
        .step { display: none; }
        .step.active { display: block; }

        /* DEBUG LOG */
        #debug-log { position: fixed; bottom: 20px; right: 20px; width: 250px; max-height: 200px; background: rgba(0,0,0,0.9); border: 1px solid var(--secondary); border-radius: 15px; padding: 15px; font-family: monospace; font-size: 0.7rem; color: #00ffaa; overflow-y: auto; z-index: 999; pointer-events: none; border-left: 4px solid var(--primary); }
    </style>
</head>
<body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T6SFWCNT" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <div id="scroll-progress"></div>
    <div id="debug-log">ðŸš€ System Initialized...</div>

    <div class="wrapper">
        <header style="text-align: center; margin-bottom: 40px;">
            <h1>Tracking Sandbox</h1>
            <div class="status-bar">
                <span class="badge" style="color:var(--primary)">GA4 READY</span>
                <span class="badge" style="color:var(--secondary)">PIXEL READY</span>
                <span class="badge" style="color:var(--accent)">GTM ACTIVE</span>
            </div>
        </header>

        <section class="section">
            <h2 style="margin-bottom:15px; font-size: 1.1rem;">ðŸ›’ E-commerce Hub (Full Funnel)</h2>
            <div class="grid">
                <div class="card" onclick="ecomAction('select_item', 'BTC', 98000)">
                    <span style="font-size:0.7rem; color:var(--secondary)">ID: BTC-01</span>
                    <h3 style="margin:5px 0">Bitcoin</h3>
                    <p class="price">$98,000</p>
                    <button class="btn btn-p" style="padding:5px; font-size:0.7rem" onclick="event.stopPropagation(); ecomAction('add_to_cart', 'BTC', 98000)">ADD TO CART</button>
                </div>
                <div class="card" onclick="ecomAction('select_item', 'ETH', 3120)">
                    <span style="font-size:0.7rem; color:var(--secondary)">ID: ETH-01</span>
                    <h3 style="margin:5px 0">Ethereum</h3>
                    <p class="price">$3,120</p>
                    <button class="btn btn-p" style="padding:5px; font-size:0.7rem" onclick="event.stopPropagation(); ecomAction('add_to_cart', 'ETH', 3120)">ADD TO CART</button>
                </div>
            </div>
            
            <button id="view-cart-btn" class="btn btn-s" style="display:none; margin-top:20px" onclick="ecomAction('view_cart')">VIEW SHOPPING CART</button>
        </section>

        <section id="checkout-box" class="section" style="display:none">
            <div id="checkout-step-1" class="step active">
                <h3>ðŸ“¦ Checkout: Shipping</h3>
                <input type="text" id="cust-email" placeholder="Email (pentru Enhanced Conversions)">
                <button class="btn btn-p" onclick="ecomAction('begin_checkout')">NEXT: PAYMENT</button>
            </div>
            <div id="checkout-step-2" class="step">
                <h3>ðŸ’³ Checkout: Payment</h3>
                <select id="pay-method"><option value="card">Credit Card</option><option value="crypto">Crypto Wallet</option></select>
                <button class="btn btn-p" onclick="ecomAction('purchase')">COMPLETE PURCHASE ($$$)</button>
            </div>
        </section>

        <section class="section">
            <h2 style="margin-bottom:15px; font-size: 1.1rem;">ðŸ“© Lead Generation Hub</h2>
            <form id="contact-form">
                <input type="text" id="user-name" placeholder="Nume Complet" required>
                <input type="email" id="user-email" placeholder="Email Adresa" required>
                <input type="tel" id="user-phone" placeholder="Telefon (Ex: 0722...)">
                <button type="submit" class="btn btn-s">SEND CONSULTANCY REQUEST</button>
            </form>
            <div style="margin-top:20px; border-top: 1px solid #374151; padding-top:15px">
                <p style="font-size:0.7rem; color:#6b7280; margin-bottom:10px">Newsletter Subscription:</p>
                <div style="display:flex; gap:10px">
                    <input type="email" id="news-email" placeholder="Email newsletter" style="margin:0">
                    <button class="btn btn-p" style="margin:0; width:auto" onclick="newsletterTrack()">JOIN</button>
                </div>
            </div>
        </section>

        <section class="section">
            <h2 style="margin-bottom:15px; font-size: 1.1rem;">ðŸ“± Social & Direct Actions</h2>
            <div class="grid">
                <a href="tel:0722123456" class="btn btn-p" onclick="logEvent('call_click')">ðŸ“ž CALL NOW</a>
                <a href="https://wa.me/40722123456" target="_blank" class="btn btn-w" onclick="logEvent('whatsapp_click')">ðŸ’¬ WHATSAPP</a>
                <button class="btn btn-s" style="grid-column: span 2" onclick="downloadPDF()">ðŸ“„ DOWNLOAD PRICE LIST (PDF)</button>
                <button class="btn btn-s" style="background:#1877F2" onclick="logEvent('social_share', {platform: 'Facebook'})">SHARE ON FB</button>
                <button class="btn btn-s" style="background:#000000" onclick="logEvent('social_share', {platform: 'TikTok'})">SHARE ON TIKTOK</button>
            </div>
        </section>

        <footer style="text-align: center; color: #4b5563; font-size: 0.8rem; padding-bottom: 50px;">
            &copy; 2026 Ultimate Tracking Sandbox | Expert Implementation
        </footer>
    </div>

    <script>
        let cart = [];
        const dl = window.dataLayer = window.dataLayer || [];

        function logToScreen(msg) {
            const log = document.getElementById('debug-log');
            log.innerHTML += `<br>> ${msg}`;
            log.scrollTop = log.scrollHeight;
        }

        // --- ECOMMERCE MASTER ENGINE ---
        function ecomAction(action, id, price) {
            const item = id ? { item_id: id + "-01", item_name: id === 'BTC' ? 'Bitcoin' : 'Ethereum', price: price, quantity: 1 } : null;
            
            switch(action) {
                case 'select_item':
                    dl.push({ event: "select_item", ecommerce: { items: [item] } });
                    dl.push({ event: "view_item", ecommerce: { value: price, items: [item] } });
                    logToScreen(`Ecom: View ${id}`);
                    break;
                case 'add_to_cart':
                    cart.push(item);
                    dl.push({ event: "add_to_cart", ecommerce: { value: price, items: [item] } });
                    document.getElementById('view-cart-btn').style.display = 'block';
                    logToScreen(`Ecom: Added ${id}`);
                    break;
                case 'view_cart':
                    dl.push({ event: "view_cart", ecommerce: { value: cart.reduce((s,i)=>s+i.price,0), items: cart } });
                    document.getElementById('checkout-box').style.display = 'block';
                    logToScreen(`Ecom: View Cart`);
                    break;
                case 'begin_checkout':
                    dl.push({ event: "begin_checkout", ecommerce: { value: cart.reduce((s,i)=>s+i.price,0), items: cart } });
                    document.getElementById('checkout-step-1').style.display = 'none';
                    document.getElementById('checkout-step-2').style.display = 'block';
                    logToScreen(`Ecom: Begin Checkout`);
                    break;
                case 'purchase':
                    const tid = "T_" + Date.now();
                    dl.push({
                        event: "purchase",
                        ecommerce: {
                            transaction_id: tid,
                            value: cart.reduce((s,i)=>s+i.price,0),
                            currency: "USD",
                            items: cart
                        },
                        user_data: { // Pentru Enhanced Conversions
                            email: document.getElementById('cust-email').value
                        }
                    });
                    logToScreen(`PURCHASE SUCCESS: ${tid}`);
                    alert("Order Confirmed! ID: " + tid);
                    location.reload();
                    break;
            }
        }

        // --- LEAD GEN ENGINE ---
        document.getElementById('contact-form').addEventListener('submit', function(e) {
            e.preventDefault();
            dl.push({
                event: "generate_lead",
                lead_type: "consultancy",
                user_data: {
                    fn: document.getElementById('user-name').value,
                    em: document.getElementById('user-email').value,
                    ph: document.getElementById('user-phone').value
                }
            });
            logToScreen("Lead: Consultancy Form Sent");
            alert("Lead Generated!");
        });

        function newsletterTrack() {
            const email = document.getElementById('news-email').value;
            if(email) {
                dl.push({ event: "newsletter_signup", user_data: { em: email } });
                logToScreen("Lead: Newsletter Signup");
                alert("Welcome to our Newsletter!");
            }
        }

        // --- GENERAL TRACKING ---
        function logEvent(name, params = {}) {
            dl.push({ event: name, ...params });
            logToScreen(`Event: ${name}`);
        }

        function downloadPDF() {
            dl.push({ event: "file_download", file_name: "price_list_2026.pdf", file_extension: "pdf" });
            logToScreen("Event: PDF Download");
            alert("Downloading price list...");
        }

        // --- UTILS ---
        window.onscroll = function() {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            document.getElementById("scroll-progress").style.width = (winScroll / height) * 100 + "%";
        };
    </script>
</body>
</html>
